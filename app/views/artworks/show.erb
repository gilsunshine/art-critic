<strong><%= @artwork.name %></strong>  <br>
<%= @artwork.user.name %> <br>
<i><%= @artwork.year ? @artwork.year.name : "year unknown" %></i><br><br>

<% if (@artwork.style+@artwork.c_style).empty? %>
<% elsif (@artwork.style+@artwork.c_style).count == 1 %>
  <strong>Style:</strong>
<% else %>
  <strong>Media:</strong>
<% end %>
<%= (@artwork.style+@artwork.c_style).map { |style|  link_to style.name.capitalize, style }.join(", ").html_safe %>
<br>

<% if (@artwork.medium+@artwork.c_medium).empty? %>
<% elsif (@artwork.medium+@artwork.c_medium).count == 1 %>
  <strong>Medium:</strong>
<% else  %>
  <strong>Media:</strong>
<% end %>
<%= (@artwork.medium+@artwork.c_medium).map { |medium| link_to medium.name.capitalize, medium}.join(", ").html_safe %>
<br>

<% if !@artwork.c_tag.empty? %>
Tags:
<%= @artwork.c_tag.map {|tag| ctag.name}.join(", ") %><br><br>
<% end %>

<div class="ui large image">
  <p>
    <%= image_tag @artwork.image.url %>
  </p>
</div>
<div>
  Likes: <%= @vote_num %>
</div>
<%= button_to "Like", controller: :votes, method: :post, action: :like, artwork_id: @artwork.id %>
<%= button_to "Dislike", controller: :votes, method: :post, action: :dislike, artwork_id: @artwork.id %>

<div class="">
  <%= form_for @comment do |f|%>
    <%= f.hidden_field :artwork_id, value: @artwork.id %>
    <%= f.hidden_field :user_id, value: session[:user_id] %>
    <%= f.label :comment %><br>
    <div class="field">
      <%= f.text_area :content %><br>
    </div>
    <div class="ui blue labeled submit icon button">
      <%= f.submit %>
    </div>
  <% end %>
</div><br><br>

<div class="">
  <% if @comments %>
    <% @comments.each do |comment| %>
      <%= comment.user.username %><br>
      <%= comment.content %><br><br>
      <%= button_to "Delete Comment", controller: :comments, method: :post, action: :destroy, comment_id: comment.id %>
      <%= link_to "Edit Comment", "#", :id => 'showCommentEdit' %><br>
      <div id="editComment">
        <%= form_for comment do |f|%>
          <%= f.hidden_field :artwork_id, value: @artwork.id %>
          <%= f.hidden_field :user_id, value: session[:user_id] %>
          <%= f.label :comment %><br>
          <%= f.text_area :content %><br>
          <%= button_to "Update Comment", controller: :comments, method: :get, action: :update, comment_id: comment.id %><br><br>
        <% end %>
      </div>
    <% end %>
  <% end %>
</div>

<% if @artwork.user.id == session[:user_id] %>
<%= link_to 'Edit', edit_artwork_path(@artwork) %> |
<% end %>
<%= link_to 'Back', artworks_path %>
